<!DOCTYPE html>
<html>
	<head>
		<title>HTML06 AJAX</title>
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<script>
			function getCharacter() {
				const index = Math.floor(Math.random() * 82) + 1;
				$.ajax({
					url: `https://swapi.dev/api/people/${index}`,
					success: function (person) {
						$('#fullName').val(person.name);
						$('#eyeColor').val(person.eye_color);

						$.ajax({
							url: person.homeworld,
							success: function (homeworld) {
								$('#homeWorld').val(homeworld.name);
							},
						});
					},
				});
			}
		</script>
	</head>
	<body>
		<h1>STAR WARS!</h1>
		<button onclick="getCharacter()">Random Character!</button>
		<p>Name: <input id="fullName" disabled /></p>
		<p>Augenfarbe: <input id="eyeColor" disabled /></p>
		<p>Heimatwelt: <input id="homeWorld" disabled /></p>
	</body>
</html>
